                Qt-BSch3V Version 0.47
                     2006/07/08

1. Qt-BSch3V の概要
-------------------

  Qt-BSch3V(Qt-Basic Schematic 3V)は、Trolltech社の Qt を使って作成した回路図
エディタです。
  コンパイルには Qt 4.1.2 が必要です。
  Qtについては、Trolltech社のWEBサイト(http://www.trolltech.com)をご覧くださ
い。

2. ファイル構成
-----------------

  COPYING          ライセンス文書
  readme.txt       このファイル
  qtbsch3v/        ソースファイル
  LIBV/*.lb3       ベクトルデータを含むサンプルライブラリファイル
  
  ***添付しているソースの文字コードはEUC-JPです。***

3. 開発環境とコンパイル
-------------------------

次の環境で開発と動作確認を行いました。

 Windows XP pro SP2 + Qt 4.1.2 opensource edition
 Knoppix Linux 3.8.1 on HDD + Qt 4.1.2 opensource edition

コンパイルはコマンドラインから次の手順で行います。
$cd qtbsch3v
$qmake
$make

これで、実行ファイル qtbsch3v が得られます。

qtbsch3v.proファイルは、提供しているものをお使いください。


4. 設定
--------

最初にBSchと同様にフォントとライブラリファイルの設定が必要になります。
(1)デフォルトのコメントのフォント
  コメントで使うデフォルトのフォントの設定を行うためのものです。
  メニューの[Set]->[default Comment Font]で設定を行います。
(2)ラベルのフォント
  ラベル、タグ、部品名、部品番号、ピン番号、ピン名で使うフォントを指定します。
  メニューの[Set]->[Label Font]で設定を行います。
(3)ライブラリ
  メニューの[Set]->[Library]で設定を行います。ライブラリ設定ダイアログのリス
トボックスの中で上にあるものほど優先順位が高くなります。必要に応じて順位を上げ下げ
してください。
  ライブラリ設定ダイアログでは、拡張子が小文字のlb3のファイルを選択できます。

5. 操作のヒント
-----------------

5-1. Select
(1)コピーや貼り付け、左右反転、回転、アトリビュートの設定を行うためには、
   Selector ツールを使ってください。
(2)部品、コメント、ラベル、タグのアトリビュートの設定を行うためには、Selector
   ツールで、単独で選択する必要があります。
(3)接続を維持した状態で移動を行うためには Drag ツールを使います。

5-2. ワイヤーやジャンクション(接合点)
(1)斜めのワイヤーを引きたいときは、Dragツールでドラッグします。
(2)ジャンクションの配置は次の二通りの方法があります。
    ・Junction ツールで、図面の必要なところでクリックする。
    ・Wire ツールで、図面の必要なところでダブルクリックする。

5-3. ワイヤーエントリーとバスエントリー
  エントリーの向きを変えたいときは、メニューの[Edit]->[Rotate]を使います。

5-4. 部品
(1)複数のライブラリに同じ名前の部品がある場合は、優先順位の高いライブラリのもの
  を使います。ライブラリの優先順位を変えたいときは、[Set]->[Library]を実行して
  ください。
(2)配置した部品の名前や番号を変えたいときは、Selectorツールで単独で選択して、
  [Edit]->[Attribute]を実行します。
(3)配置した部品の名前や番号の場所を変えたいときは、Selectorツールで単独で選択す
  ると名前や番号を個別にドラッグすることが可能です。

5-5. ラベルのアンカー
  外部コマンドのネットリスタを使う場合は、ラベルのアンカーの位置は重要です。アン
カーの位置を通るワイヤーに、ラベルは信号名を付与するからです。
(1)水平ラベル
  水平ラベルのアンカーはラベルの左下に位置します。水平ラベルは、水平なワイヤーだ
けに信号名を付与します。
(2)垂直ラベル
  垂直ラベルのアンカーはラベルの右下に位置します。垂直ラベルは、垂直なワイヤーだ
けに信号名を付与します。

5-6. 印刷
  常に用紙サイズにフィットするサイズでモノクロで印刷します。
  [File]->[Print]を実行してください。

5-7. イメージファイル出力
  インターネット上で回路図を公開するのに便利なイメージファイルを作ることができます。
  [File]->[Export image]を実行してください。

5-8. Windows版 BSch3VとQt-BSch3Vのデータファイルの互換性
  BSch3V/Qt-BSch3Vはライブラリも図面データもテキストファイルです。文字コードと改
行コードを変換すれば、Windows上のBSch3VとLinux上のQt-BSch3Vは概ねデータを共有で
きます。
  ただし、コメントや、部品のパターンのテキストに使われるフォント名が文字化けの原因
となることがあります。異なる環境にコピーしてフォントが見つからない場合や使えない
フォントのときには、デフォルトフォントでの表示になります。

5-9. ライブラリファイル
  Qt-LCoVでライブラリファイルを編集できるほか、Qt-LCoVでコピーした部品をQt-BSch3V
に直接ペーストすることができます。


6.履歴(Qt-BSchから）
------------------

2002/05/09  Version 0.08
   部品のプレビュー
   xbschview.cpp で qpainter.h をインクルード

2003/01/21  Version 0.10
   ピンのない部品のAttributeで落ちるのを修整

2003/07/06  Version 0.11
   Qt 3.1.2 に移行

2004/05/30  Version 0.20
   回路図にライブラリ情報を埋め込むように変更

2004/06/08  Version 0.21
   部品の内部コピーでエラーが発生していたのを修正

2004/06/12  Version 0.22
   名前を削除した部品の保存に失敗していたのを修正

2004/09/26  Version 0.25
   CE3ファイルをライブラリとして読み込み可能にした
   部品にノートの属性
   部品名、部品番号移動時のちらつきの低減

   ----以上 Qt-BSch----
   
2005/05/29  Qt-BSch3V Version 0.1(BETA)
   ベータ版としてリリース

2005/07/10  Qt-BSch3V Version 0.11(BETA)
   Applicationウィンドウで、printerオブジェクトの削除を忘れていたのを修正
   Windowメニューで、Windowを切替えても前面に出てこない問題の修正

2005/07/16  Qt-BSch3V Version 0.12
   選択状態のオブジェクトが存在する状態で保存すると、再描画するまで表示が消える問題の修正

2005/07/16  Qt-BSch3V Version 0.20
   Qt4でコンパイルできるように調整

2005/07/27  Qt-BSch3V Version 0.21
   OSX 10.3.9 + Qt4でもコンパイルできるように調整
   ツールバーの移動を禁止(移動時にMacでの挙動がおかしかったため)
   コードの整理(おもにペイントイベント以外でQPainterを生成、失敗していた箇所を削除など)

2005/08/01  Qt-BSch3V Version 0.22
   OSX においてビットパターン描画に縁取りがあった問題を修正。

2005/08/07  Qt-BSch3V Version 0.23
   Linuxにおけるファイルダイアログとフォントの扱いの問題を修正

2005/09/03  Qt-BSch3V Version 0.24
   OSX 10.4.2+Qt 4.0.1 で動作するように調整

2005/09/19  Qt-BSch3V Version 0.25
   印刷位置のズレの修正
   用紙マージン設定

2006/01/01  Qt-BSch3V Version 0.26
   Qt 4.1.0対応

2006/01/08  Qt-BSch3V Version 0.26a
   OSX 10.4.3+Qt 4.1.0 で動作するように調整

2006/02/26  Qt-BSch3V Version 0.26b
   部品選択ダイアログを表示したときの、入力フォーカスを部品名に設定。

2006/07/01  Qt-BSch3V Version 0.46
   部品のパターンとしてのテキスト、ゼロ長ピンに対応。

2006/07/08  Qt-BSch3V Version 0.47
   ドラッグでの選択動作を BSch3V 0.47に合わせた。
   レイヤーをサポートした。


7.ライセンスについて
--------------------

本プログラムはフリー・ソフトウェアです。あなたは、Free Software Foundation
が公表した GNU 一般公有使用許諾の「バージョン 2」或いは それ以降の各バージョ
ンの中からいずれかを選択し、そのバージョンが 定める条項に従って本プログラムを
再頒布または変更することができます。

本プログラムは有用とは思いますが、頒布にあたっては、市場性及び 特定目的適合性
についての暗黙の保証を含めて、いかなる保証も行ないません。詳細については GNU
一般公有使用許諾書をお読みください。

あなたは、本プログラムと一緒に GNU 一般公有使用許諾の写しを 受け取っているはず
です。そうでない場合は、Free Software Foundation, Inc., 59 Temple Place,
Suite 330, Boston, MA 0211-1307, USA へ手紙を書いてください。

--------------------------------------------------------------------------------

  岡田 仁史
  URL    : http://www.suigyodo.com
  E-Mail : hitoshi@suigyodo.com
